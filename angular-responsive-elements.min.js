"use strict";angular.module("mm.responsiveElements",[]),angular.module("mm.responsiveElements").provider("RespondConfig",function(){var a={start:100,end:900,interval:50,maxRefreshRate:5,custom:[],doInterval:!0,doCustom:!1};return{config:function(b){angular.extend(a,b)},$get:function(){return a}}}),angular.module("mm.responsiveElements").directive("respond",["RespondConfig","$window",function(a,b){return{restrict:"A",scope:{respondConfig:"="},link:function(c,d){c.config=angular.extend(angular.copy(a),c.respondConfig),c.init=function(){c.renderBreakpointClasses(),angular.element(b).on("resize",function(){c.debounce(c.renderBreakpointClasses,c.config.maxRefreshRate)})},c.getElementWidth=function(){return d[0].clientWidth},c.renderBreakpointClasses=function(){var a=c.generateBreakpoints();c.removeBreakpointClasses(),d.addClass(a.join(" "))},c.generateBreakpoints=function(){var a=[],b=[];return c.config.doInterval&&(a=c.generateIntervalBreakpoints()),c.config.doCustom&&(b=c.generateCustomBreakpoints()),a.concat(b)},c.generateIntervalBreakpoints=function(){for(var a=c.getElementWidth(),b=c.config.start,d=c.config.end,e=c.config.interval,f=e>b?e:~~(b/e)*e,g=[];d>=f;)a>f&&g.push("gt"+f),f>a&&g.push("lt"+f),parseInt(f)===parseInt(a)&&g.push("lt"+f),f+=e;return g},c.generateCustomBreakpoints=function(){for(var a=c.getElementWidth(),b=c.config.custom,d=0,e=b.length,f=[];e>d;d++)b[d]<a&&f.push("gt"+b[d]),b[d]>a&&f.push("lt"+b[d]),parseInt(b[d])===parseInt(a)&&f.push("lt"+b[d]);return f},c.removeBreakpointClasses=function(){var a=c.parseBreakpointClasses();d.removeClass(a.join(" "))},c.parseBreakpointClasses=function(){for(var a=d.attr("class")||"",b=a.split(/\s+/),c=[],e=0,f=b.length;f>e;e++)b[e].match(/^gt\d+|lt\d+$/)&&c.push(b[e]);return c},c.debounce=function(a,b,c){var d,e=null;return function(){var f=this,g=arguments,h=function(){e=null,c||(d=a.apply(f,g))},i=c&&!e;return clearTimeout(e),e=setTimeout(h,b),i&&(d=a.apply(f,g)),d}},c.init()}}}]);