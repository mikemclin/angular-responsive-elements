"use strict";angular.module("mm.responsiveElements",[]),angular.module("mm.responsiveElements").provider("RespondConfig",function(){var a={start:100,end:900,interval:50,equalsPrefix:"gt",maxRefreshRate:5,custom:[],doInterval:!0,doCustom:!1};return{config:function(b){angular.extend(a,b)},$get:function(){return a}}}),angular.module("mm.responsiveElements").directive("respond",["$window","$timeout","RespondConfig",function(a,b,c){return{restrict:"A",scope:{respondConfig:"="},link:function(d,e){var f;d.config=angular.extend(angular.copy(c),d.respondConfig),d.init=function(){d.renderBreakpointClasses(),d.addListeners()},d.addListeners=function(){angular.element(a).on("resize",d.debounceRenderBreakpointClasses),d.$on("$destroy",function(){angular.element(a).off("resize",d.debounceRenderBreakpointClasses)})},d.getElementWidth=function(){return e[0].clientWidth},d.renderBreakpointClasses=function(){var a=d.generateBreakpoints();d.removeBreakpointClasses(),e.addClass(a.join(" "))},d.debounceRenderBreakpointClasses=function(){d.debounce(d.renderBreakpointClasses,d.config.maxRefreshRate)},d.generateBreakpoints=function(){var a=[],b=[];return d.config.doInterval&&(a=d.generateIntervalBreakpoints()),d.config.doCustom&&(b=d.generateCustomBreakpoints()),a.concat(b)},d.generateIntervalBreakpoints=function(){for(var a=d.config.start,b=d.config.end,c=d.config.interval,e=c>a?c:~~(a/c)*c,f=[];b>=e;)f.push(d.getClassName(e)),e+=c;return f},d.generateCustomBreakpoints=function(){for(var a=d.config.custom,b=0,c=a.length,e=[];c>b;b++)e.push(d.getClassName(a[b]));return e},d.getClassName=function(a){var b=d.getElementWidth(),c=d.config.equalsPrefix;return b>a?"gt"+a:a>b?"lt"+a:parseInt(a)===parseInt(b)?c+a:void 0},d.removeBreakpointClasses=function(){var a=d.parseBreakpointClasses();e.removeClass(a.join(" "))},d.parseBreakpointClasses=function(){for(var a=e.attr("class")||"",b=a.split(/\s+/),c=[],f=new RegExp(d.config.equalsPrefix+"\\d+"),g=0,h=b.length;h>g;g++)(b[g].match(/^gt\d+|lt\d+$/)||b[g].match(f))&&c.push(b[g]);return c},d.debounce=function(a,c,d){var e=this,g=arguments,h=function(){f=null,d||a.apply(e,g)},i=d&&!f;f&&b.cancel(f),f=b(h,c),i&&a.apply(e,g)},d.init()}}}]);