"use strict";angular.module("mm.responsiveElements",[]),angular.module("mm.responsiveElements").provider("RespondConfig",function(){var a={start:100,end:900,interval:50,equalsPrefix:"gt",maxRefreshRate:5,custom:[],doInterval:!0,doCustom:!1};return{config:function(b){angular.extend(a,b)},$get:function(){return a}}}),angular.module("mm.responsiveElements").directive("respond",["RespondConfig","$window",function(a,b){return{restrict:"A",scope:{respondConfig:"="},link:function(c,d){c.config=angular.extend(angular.copy(a),c.respondConfig),c.init=function(){c.renderBreakpointClasses(),angular.element(b).on("resize",function(){c.debounce(c.renderBreakpointClasses,c.config.maxRefreshRate)})},c.getElementWidth=function(){return d[0].clientWidth},c.renderBreakpointClasses=function(){var a=c.generateBreakpoints();c.removeBreakpointClasses(),d.addClass(a.join(" "))},c.generateBreakpoints=function(){var a=[],b=[];return c.config.doInterval&&(a=c.generateIntervalBreakpoints()),c.config.doCustom&&(b=c.generateCustomBreakpoints()),a.concat(b)},c.generateIntervalBreakpoints=function(){for(var a=c.config.start,b=c.config.end,d=c.config.interval,e=d>a?d:~~(a/d)*d,f=[];b>=e;)f.push(c.getClassName(e)),e+=d;return f},c.generateCustomBreakpoints=function(){for(var a=c.config.custom,b=0,d=a.length,e=[];d>b;b++)e.push(c.getClassName(a[b]));return e},c.getClassName=function(a){var b=c.getElementWidth(),d=c.config.equalsPrefix;return b>a?"gt"+a:a>b?"lt"+a:parseInt(a)===parseInt(b)?d+a:void 0},c.removeBreakpointClasses=function(){var a=c.parseBreakpointClasses();d.removeClass(a.join(" "))},c.parseBreakpointClasses=function(){for(var a=d.attr("class")||"",b=a.split(/\s+/),e=[],f=new RegExp(c.config.equalsPrefix+"\\d+"),g=0,h=b.length;h>g;g++)(b[g].match(/^gt\d+|lt\d+$/)||b[g].match(f))&&e.push(b[g]);return e},c.debounce=function(a,b,c){var d,e=null;return function(){var f=this,g=arguments,h=function(){e=null,c||(d=a.apply(f,g))},i=c&&!e;return clearTimeout(e),e=setTimeout(h,b),i&&(d=a.apply(f,g)),d}},c.init()}}}]);