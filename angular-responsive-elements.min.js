"use strict";angular.module("mm.responsiveElements",[]),angular.module("mm.responsiveElements").provider("RespondConfig",function(){var a={start:100,end:900,interval:50,maxRefreshRate:5,custom:[],doInterval:!0,doCustom:!1};return{config:function(b){angular.extend(a,b)},$get:function(){return a}}}),angular.module("mm.responsiveElements").directive("respond",["RespondConfig","$window",function(a,b){return{restrict:"A",scope:{respondConfig:"="},link:function(c,d){c.config=angular.extend(a,c.respondConfig),c.init=function(){c.renderBreakpointClasses(),angular.element(b).on("resize",c.debounce(c.renderBreakpointClasses,c.config.maxRefreshRate))},c.renderBreakpointClasses=function(){var a=c.generateBreakpoints();c.removeBreakpointClasses(),d.addClass(a.join(" "))},c.generateBreakpoints=function(){var a=[],b=[];return c.config.doInterval&&(a=c.generateIntervalBreakpoints()),c.config.doCustom&&(b=c.generateCustomBreakpoints()),a.concat(b)},c.generateIntervalBreakpoints=function(){for(var a=d[0].clientWidth,b=c.config.start,e=c.config.end,f=c.config.interval,g=f>b?f:~~(b/f)*f,h=[];e>=g;)a>g&&h.push("gt"+g),g>a&&h.push("lt"+g),parseInt(g)===parseInt(a)&&h.push("lt"+g),g+=f;return h},c.generateCustomBreakpoints=function(){for(var a=d[0].clientWidth,b=c.config.custom,e=0,f=b.length,g=[];f>e;e++)b[e]<a&&g.push("gt"+b[e]),b[e]>a&&g.push("lt"+b[e]),parseInt(b[e])===parseInt(a)&&g.push("lt"+b[e]);return g},c.removeBreakpointClasses=function(){var a=c.parseBreakpointClasses();d.removeClass(a.join(" "))},c.parseBreakpointClasses=function(){for(var a=d.attr("class")||"",b=a.split(/\s+/),c=[],e=0,f=b.length;f>e;e++)b[e].match(/^gt\d+|lt\d+$/)&&c.push(b[e]);return c},c.debounce=function(a,b,c){var d,e=null;return function(){var f=this,g=arguments,h=function(){e=null,c||(d=a.apply(f,g))},i=c&&!e;return clearTimeout(e),e=setTimeout(h,b),i&&(d=a.apply(f,g)),d}},c.init()}}}]);